<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta name="generator" content="HtmlDict.w version 11">
  <meta name="author"    content="Patrick Tingen [patrick at tingen dot nl]">
  <link rel="stylesheet" title="Default" type="text/css" href="../../default.css">
  <link rel="alternate stylesheet" title="blue" type="text/css" href="../../blue.css">
  <link rel="alternate stylesheet" title="default" type="text/css" href="../../default.css">
  <link rel="alternate stylesheet" title="green" type="text/css" href="../../green.css">
  <link rel="alternate stylesheet" title="oldstyle" type="text/css" href="../../oldstyle.css">
  <link rel="alternate stylesheet" title="red" type="text/css" href="../../red.css">
  <link rel="shortcut icon" href="../../htmldict.ico">
  <link rel="stylesheet" media="print" type="text/css" href="../../print.css">
  <script src="../../swapstyle.js"    type="text/javascript"></script>
  <script src="../../stylechooser.js" type="text/javascript"></script>
  <script src="../../dbchooser.js"    type="text/javascript"></script>
  <script src="../../htmldict.js"     type="text/javascript"></script>
  <title> Trigger code: write of fg-rctd</title>
</head>
<body onload="useStyleAgain('HtmlDict');" onunload="rememberStyle('HtmlDict',10);">
<div><a name="top"></a></div>
<table style="width:100%;">
  <tr>
    <td class="navbar" style="width:80%;"><a href="../../../00-index.html"target="_top">DB</a>
 | <a href="../../00-area.html"target="main">Areas</a>
 | <a href="../../00-cross.html"target="main">X-idx</a>
 | <a href="../../00-main.html"target="main">Tables</a>
 | <a href="../../00-sequences.html"target="main">Sequences</a>
</td>
    <td class="navbar" style="width:20%; text-align:right;"><a href="../../htmldict.html"target="_top">HtmlDict 11</a></td>
  </tr>
</table>
 
<h1>Trigger code: write of fg-rctd</h1>
<div class="progressCode">
<span class="src-prep">&amp;Scoped-define</span><!--src-prep--> ACTION <span class="src-keyword">UPDATE</span><!--src-keyword-->
<span class="src-prep">&amp;Scoped-define</span><!--src-prep--> <span class="src-keyword">DBNAME</span><!--src-keyword--> ASI
<span class="src-prep">&amp;Scoped-define</span><!--src-prep--> TABLENAME fg-rctd
 
<span class="src-keyword">TRIGGER PROCEDURE FOR WRITE OF</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep--> <span class="src-keyword">OLD BUFFER</span><!--src-keyword--> old-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.
<span class="src-keyword">DEF VAR</span><!--src-keyword--> cocode <span class="src-keyword">AS CHAR NO-UNDO</span><!--src-keyword-->.
<span class="src-keyword">DEF VAR</span><!--src-keyword--> lv-r-no <span class="src-keyword">AS INT NO-UNDO</span><!--src-keyword-->.
 
<span class="src-prep">{methods/<span class="src-keyword">triggers</span><!--src-keyword-->/<span class="src-keyword">write</span><!--src-keyword-->.i}</span><!--src-prep-->
 
 
 
<span class="src-comment">/* Obtain fgpofrt nk1 value for ext-cost calculation */</span><!--src-comment-->
cocode = <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.company.
<span class="src-prep">{sys/inc/fgpofrt.i}</span><!--src-prep-->
 
<span class="src-keyword">DEF BUFFER</span><!--src-keyword--> b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep--> <span class="src-keyword">FOR</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.
 
<span class="src-keyword">DEF VAR</span><!--src-keyword--> ll <span class="src-keyword">AS LOG NO-UNDO</span><!--src-keyword-->.
<span class="src-keyword">DEF VAR</span><!--src-keyword--> li <span class="src-keyword">AS INT NO-UNDO</span><!--src-keyword-->.
<span class="src-keyword">DEF VAR</span><!--src-keyword--> li1 <span class="src-keyword">AS INT NO-UNDO</span><!--src-keyword-->.
 
 
<span class="src-keyword">DISABLE TRIGGERS FOR LOAD OF</span><!--src-keyword--> b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.
 
<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.po-no = <span class="src-keyword">TRIM</span><!--src-keyword-->(<span class="src-keyword">STRING</span><!--src-keyword-->(<span class="src-keyword">INT</span><!--src-keyword-->(<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.po-no),<span class="src-char">"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;"</span><!--src-char-->)).
 
<span class="src-keyword">IF</span><!--src-keyword--> (<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.cases <span class="src-keyword">*</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.qty-case) <span class="src-keyword">NE</span><!--src-keyword--> <span class="src-number">0</span><!--src-number--> <span class="src-keyword">OR</span><!--src-keyword-->
   <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.partial <span class="src-keyword">NE</span><!--src-keyword--> <span class="src-number">0</span><!--src-number-->                         <span class="src-keyword">THEN</span><!--src-keyword-->
 <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.t-qty = (<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.cases <span class="src-keyword">*</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.qty-case) +
                      <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.partial.
 
<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.qty = <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.t-qty.
 
<span class="src-keyword">IF</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.job-no <span class="src-keyword">NE</span><!--src-keyword--> <span class="src-char">""</span><!--src-char-->                   <span class="src-keyword">AND</span><!--src-keyword-->
   (<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.rita-code <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-char">"R"</span><!--src-char--> <span class="src-keyword">OR</span><!--src-keyword-->
    <span class="src-keyword">CAN-FIND</span><!--src-keyword-->(<span class="src-keyword">FIRST</span><!--src-keyword--> fg-rcpth
             <span class="src-keyword">WHERE</span><!--src-keyword--> fg-rcpth.r-no      <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.r-no
               <span class="src-keyword">AND</span><!--src-keyword--> fg-rcpth.i-no      <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.i-no
               <span class="src-keyword">AND</span><!--src-keyword--> fg-rcpth.job-no    <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.job-no
               <span class="src-keyword">AND</span><!--src-keyword--> fg-rcpth.job-no2   <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.job-no2
               <span class="src-keyword">AND</span><!--src-keyword--> fg-rcpth.rita-code <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-char">"R"</span><!--src-char-->)) <span class="src-keyword">THEN DO</span><!--src-keyword-->:
  <span class="src-keyword">FIND FIRST</span><!--src-keyword--> job-hdr <span class="src-keyword">NO-LOCK</span><!--src-keyword-->
      <span class="src-keyword">WHERE</span><!--src-keyword--> job-hdr.company <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.company
        <span class="src-keyword">AND</span><!--src-keyword--> job-hdr.i-no    <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.i-no
        <span class="src-keyword">AND</span><!--src-keyword--> job-hdr.job-no  <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.job-no
        <span class="src-keyword">AND</span><!--src-keyword--> job-hdr.job-no2 <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.job-no2
      <span class="src-keyword">NO-ERROR</span><!--src-keyword-->.
 
  <span class="src-keyword">IF NOT AVAIL</span><!--src-keyword--> job-hdr <span class="src-keyword">THEN DO</span><!--src-keyword-->:
    <span class="src-keyword">FIND FIRST</span><!--src-keyword--> job <span class="src-keyword">NO-LOCK</span><!--src-keyword-->
        <span class="src-keyword">WHERE</span><!--src-keyword--> job.company <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.company
          <span class="src-keyword">AND</span><!--src-keyword--> job.job-no  <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.job-no
          <span class="src-keyword">AND</span><!--src-keyword--> job.job-no2 <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.job-no2
        <span class="src-keyword">NO-ERROR</span><!--src-keyword-->.
    <span class="src-keyword">IF AVAIL</span><!--src-keyword--> job <span class="src-keyword">THEN</span><!--src-keyword-->
    <span class="src-keyword">FIND FIRST</span><!--src-keyword--> reftable <span class="src-keyword">NO-LOCK</span><!--src-keyword-->
        <span class="src-keyword">WHERE</span><!--src-keyword--> reftable.reftable <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-char">"jc/jc-calc.p"</span><!--src-char-->
          <span class="src-keyword">AND</span><!--src-keyword--> reftable.company  <span class="src-keyword">EQ</span><!--src-keyword--> job.company
          <span class="src-keyword">AND</span><!--src-keyword--> reftable.loc      <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-char">""</span><!--src-char-->
          <span class="src-keyword">AND</span><!--src-keyword--> reftable.<span class="src-keyword">code     EQ STRING</span><!--src-keyword-->(job.job,<span class="src-char">"999999999"</span><!--src-char-->)
          <span class="src-keyword">AND</span><!--src-keyword--> reftable.code2    <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.i-no
        <span class="src-keyword">NO-ERROR</span><!--src-keyword-->.
  <span class="src-keyword">END</span><!--src-keyword-->.
 
  <span class="src-keyword">IF AVAIL</span><!--src-keyword--> job-hdr <span class="src-keyword">AND</span><!--src-keyword--> job-hdr.std-tot-cost <span class="src-keyword">GT</span><!--src-keyword--> <span class="src-number">0</span><!--src-number--> <span class="src-keyword">THEN</span><!--src-keyword-->
    <span class="src-keyword">ASSIGN</span><!--src-keyword-->
     <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.pur-uom  = <span class="src-char">"M"</span><!--src-char-->
     <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.cost-uom = <span class="src-char">"M"</span><!--src-char-->
     <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.std-cost = job-hdr.std-tot-cost.
  <span class="src-keyword">ELSE</span><!--src-keyword-->
  <span class="src-keyword">IF AVAIL</span><!--src-keyword--> reftable <span class="src-keyword">AND</span><!--src-keyword--> reftable.val[5] <span class="src-keyword">GT</span><!--src-keyword--> <span class="src-number">0</span><!--src-number--> <span class="src-keyword">THEN</span><!--src-keyword-->
    <span class="src-keyword">ASSIGN</span><!--src-keyword-->
     <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.pur-uom  = <span class="src-char">"M"</span><!--src-char-->
     <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.cost-uom = <span class="src-char">"M"</span><!--src-char-->
     <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.std-cost = reftable.val[5].
<span class="src-keyword">END</span><!--src-keyword-->.
 
<span class="src-keyword">IF</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.std-cost <span class="src-keyword">NE</span><!--src-keyword--> <span class="src-number">0</span><!--src-number--> <span class="src-keyword">THEN DO</span><!--src-keyword-->:
  <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.ext-cost = <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.std-cost <span class="src-keyword">*</span><!--src-keyword-->
                          (<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.t-qty / <span class="src-keyword">IF</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.cost-uom <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-char">"M"</span><!--src-char--> <span class="src-keyword">THEN</span><!--src-keyword--> <span class="src-number">1000</span><!--src-number--> <span class="src-keyword">ELSE</span><!--src-keyword--> <span class="src-number">1</span><!--src-number-->).
  <span class="src-keyword">IF</span><!--src-keyword--> fgpofrt-log <span class="src-keyword">THEN</span><!--src-keyword--> 
  <span class="src-keyword">DO</span><!--src-keyword-->:
 
     <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.ext-cost = <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.ext-cost + <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.frt-cost.
 
 
  <span class="src-keyword">END</span><!--src-keyword-->.
<span class="src-keyword">END</span><!--src-keyword-->.
<span class="src-keyword">ELSE</span><!--src-keyword-->
<span class="src-keyword">IF</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.ext-cost <span class="src-keyword">NE</span><!--src-keyword--> <span class="src-number">0</span><!--src-number--> <span class="src-keyword">THEN</span><!--src-keyword-->
  <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.std-cost = <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.ext-cost /
                          (<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.t-qty / <span class="src-keyword">IF</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.cost-uom <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-char">"M"</span><!--src-char--> <span class="src-keyword">THEN</span><!--src-keyword--> <span class="src-number">1000</span><!--src-number--> <span class="src-keyword">ELSE</span><!--src-keyword--> <span class="src-number">1</span><!--src-number-->).
 
<span class="src-keyword">IF</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.company <span class="src-keyword">NE</span><!--src-keyword--> <span class="src-char">""</span><!--src-char--> <span class="src-keyword">AND</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.r-no <span class="src-keyword">NE</span><!--src-keyword--> <span class="src-number">0</span><!--src-number--> <span class="src-keyword">THEN DO</span><!--src-keyword-->:
  <span class="src-keyword">FOR EACH</span><!--src-keyword--> b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->
      <span class="src-keyword">WHERE</span><!--src-keyword--> b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.r-no   <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.r-no
        <span class="src-keyword">AND ROWID</span><!--src-keyword-->(b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->) <span class="src-keyword">NE ROWID</span><!--src-keyword-->(<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->):
    <span class="src-keyword">BUFFER-COMPARE</span><!--src-keyword--> b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep--> <span class="src-keyword">EXCEPT</span><!--src-keyword--> rec_key <span class="src-keyword">TO</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep--> <span class="src-keyword">SAVE RESULT IN</span><!--src-keyword--> ll.
    <span class="src-keyword">IF</span><!--src-keyword--> ll <span class="src-keyword">THEN DELETE</span><!--src-keyword--> b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.
  <span class="src-keyword">END</span><!--src-keyword-->.
 
  li1 = <span class="src-number">0</span><!--src-number-->.
  <span class="src-keyword">IF</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.rita-code <span class="src-keyword">NE</span><!--src-keyword--> <span class="src-char">"P"</span><!--src-char--> <span class="src-keyword">THEN</span><!--src-keyword-->
  <span class="src-keyword">DO WHILE CAN-FIND</span><!--src-keyword-->(<span class="src-keyword">FIRST</span><!--src-keyword--> b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->
                    <span class="src-keyword">WHERE</span><!--src-keyword--> b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.r-no   <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.r-no
                      <span class="src-keyword">AND ROWID</span><!--src-keyword-->(b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->) <span class="src-keyword">NE ROWID</span><!--src-keyword-->(<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->)) <span class="src-keyword">OR</span><!--src-keyword-->
           <span class="src-keyword">CAN-FIND</span><!--src-keyword-->(<span class="src-keyword">FIRST</span><!--src-keyword--> fg-rcpth <span class="src-keyword">WHERE</span><!--src-keyword--> fg-rcpth.r-no <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.r-no):
    <span class="src-keyword">ASSIGN</span><!--src-keyword-->
     li  = <span class="src-number">0</span><!--src-number-->
     li1 = li1 + <span class="src-number">1</span><!--src-number-->.
 
    <span class="src-keyword">IF</span><!--src-keyword--> li1 <span class="src-keyword">GE</span><!--src-keyword--> <span class="src-number">1000</span><!--src-number--> <span class="src-keyword">THEN LEAVE</span><!--src-keyword-->.
 
    <span class="src-keyword">FIND LAST</span><!--src-keyword--> b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep--> <span class="src-keyword">USE-INDEX</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep--> <span class="src-keyword">NO-LOCK NO-ERROR</span><!--src-keyword-->.
    <span class="src-keyword">IF AVAIL</span><!--src-keyword--> b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep--> <span class="src-keyword">AND</span><!--src-keyword--> b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.r-no <span class="src-keyword">GT</span><!--src-keyword--> li <span class="src-keyword">THEN</span><!--src-keyword--> li = b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.r-no.
 
    <span class="src-keyword">FIND LAST</span><!--src-keyword--> fg-rcpth <span class="src-keyword">USE-INDEX</span><!--src-keyword--> r-no <span class="src-keyword">NO-LOCK NO-ERROR</span><!--src-keyword-->.
    <span class="src-keyword">IF AVAIL</span><!--src-keyword--> fg-rcpth <span class="src-keyword">AND</span><!--src-keyword--> fg-rcpth.r-no <span class="src-keyword">GT</span><!--src-keyword--> li <span class="src-keyword">THEN</span><!--src-keyword--> li = fg-rcpth.r-no.
    lv-r-no = <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.r-no.
    <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.r-no = li + <span class="src-number">1</span><!--src-number-->.
 
    <span class="src-comment">/* Change the r-no in related tables */</span><!--src-comment-->
    <span class="src-keyword">FOR EACH</span><!--src-keyword--> fg-rcpts 
       <span class="src-keyword">WHERE</span><!--src-keyword--> fg-rcpts.company <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.company 
         <span class="src-keyword">AND</span><!--src-keyword--> fg-rcpts.linker <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-char">"fg-rctd: "</span><!--src-char--> + <span class="src-keyword">STRING</span><!--src-keyword-->(lv-r-no,<span class="src-char">"9999999999"</span><!--src-char-->) 
       <span class="src-keyword">EXCLUSIVE-LOCK</span><!--src-keyword-->:
 
      fg-rcpts.linker = <span class="src-char">"fg-rctd: "</span><!--src-char--> + <span class="src-keyword">STRING</span><!--src-keyword-->(<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.r-no,<span class="src-char">"9999999999"</span><!--src-char-->).
 
    <span class="src-keyword">END</span><!--src-keyword-->. <span class="src-comment">/* each fg-rcpts */</span><!--src-comment-->
    <span class="src-keyword">FOR EACH</span><!--src-keyword--> b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep--> <span class="src-keyword">EXCLUSIVE-LOCK</span><!--src-keyword-->
      <span class="src-keyword">WHERE</span><!--src-keyword--> b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.SetHeaderRno <span class="src-keyword">EQ</span><!--src-keyword--> lv-r-no:
      b-<span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.SetHeaderRno = <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.r-no.
    <span class="src-keyword">END</span><!--src-keyword-->.
  <span class="src-keyword">END</span><!--src-keyword-->.
 
 
 
<span class="src-keyword">ASSIGN</span><!--src-keyword-->  <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.updated-by = <span class="src-keyword">USERID</span><!--src-keyword-->(<span class="src-char">"nosweat"</span><!--src-char-->)
        <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.upd-date = <span class="src-keyword">TODAY</span><!--src-keyword-->
        <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.upd-time = <span class="src-keyword">TIME</span><!--src-keyword-->.
 
 
<span class="src-keyword">END</span><!--src-keyword-->.
 
<span class="src-keyword">IF</span><!--src-keyword--> <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.created-by <span class="src-keyword">EQ</span><!--src-keyword--> <span class="src-char">""</span><!--src-char--> <span class="src-keyword">THEN</span><!--src-keyword-->
  <span class="src-prep">{&amp;TABLENAME}</span><!--src-prep-->.created-by = <span class="src-keyword">USERID</span><!--src-keyword-->(<span class="src-char">"nosweat"</span><!--src-char-->).
 
<span class="src-comment">/* Clear out any error-status from find with no-error that is false */</span><!--src-comment-->
<span class="src-keyword">DEF VAR</span><!--src-keyword--> ll-error <span class="src-keyword">AS LOG NO-UNDO</span><!--src-keyword-->.
ll-error = <span class="src-keyword">YES NO-ERROR</span><!--src-keyword-->.
</div><!--progresscode-->
</body>
</html>
