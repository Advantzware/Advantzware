/* EDDoc.p - generated 12/09/2005 - 15:42:42 by NoSweat */

/* this program was generated by auditgn1.p and should not be modified */
/* modifications should be made to the auto generation program         */

DEFINE INPUT PARAMETER action AS CHARACTER NO-UNDO.

DEFINE VARIABLE i AS INTEGER NO-UNDO.

{methods/defines/audit.i}
FIND FIRST ttbl_header.

DEFINE WORK-TABLE ttbl_EDDoc1 NO-UNDO LIKE EDDoc.
DEFINE WORK-TABLE ttbl_EDDoc2 NO-UNDO LIKE EDDoc.

CREATE ttbl_EDDoc1.
IMPORT STREAM s_audit_file ttbl_EDDoc1.
CREATE ttbl_EDDoc2.
IF action = "UPDATE" THEN
IMPORT STREAM s_audit_file ttbl_EDDoc2.

PUT STREAM s-audit-rpt UNFORMATTED
  "Action    User ID/(User Name)            DB.Table/(Database)  Date       Time" SKIP
  "--------- ------------------------------ -------------------- ---------- --------" SKIP
  ttbl_header.v_action AT 1
  ttbl_header.v_userid AT 11
  ttbl_header.v_file AT 42
  ttbl_header.v_date FORMAT "99/99/9999" AT 63
  STRING(ttbl_header.v_time,"HH:MM:SS") AT 74.
FIND users WHERE users.user_id = v_userid NO-LOCK NO-ERROR.
IF AVAILABLE users THEN
PUT STREAM s-audit-rpt UNFORMATTED "(" AT 10 users.user_name ")".
ELSE
PUT STREAM s-audit-rpt UNFORMATTED "(user record does not exist)" AT 10.
PUT STREAM s-audit-rpt UNFORMATTED
  "(" AT 41 ttbl_header.v_db ")" SKIP(1)
  "Label: Value (database field-name)" AT 3.
IF action = "UPDATE" THEN
PUT STREAM s-audit-rpt UNFORMATTED " ( * - denotes field value change )".
PUT STREAM s-audit-rpt UNFORMATTED FILL("-",75) AT 3.
IF NOT v_field_changed OR ttbl_EDDoc1.AddDate NE ttbl_EDDoc2.AddDate OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Added: " AT 3 ttbl_EDDoc1.AddDate FORMAT "99/99/9999" " (AddDate)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.AddDate NE ttbl_EDDoc2.AddDate THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Added: " AT 3 ttbl_EDDoc2.AddDate FORMAT "99/99/9999".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.AddOp NE ttbl_EDDoc2.AddOp OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Add By: " AT 3 ttbl_EDDoc1.AddOp " (AddOp)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.AddOp NE ttbl_EDDoc2.AddOp THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Add By: " AT 3 ttbl_EDDoc2.AddOp.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.AddTime NE ttbl_EDDoc2.AddTime OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "@: " AT 3 ttbl_EDDoc1.AddTime FORMAT ">>>>>" " (AddTime)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.AddTime NE ttbl_EDDoc2.AddTime THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "@: " AT 3 ttbl_EDDoc2.AddTime FORMAT ">>>>>".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.C-FADate NE ttbl_EDDoc2.C-FADate OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.C-FADate FORMAT "99/99/9999" " (C-FADate)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.C-FADate NE ttbl_EDDoc2.C-FADate THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.C-FADate FORMAT "99/99/9999".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.C-FATime NE ttbl_EDDoc2.C-FATime OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.C-FATime FORMAT ">>>>>9" " (C-FATime)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.C-FATime NE ttbl_EDDoc2.C-FATime THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.C-FATime FORMAT ">>>>>9".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.ChgDate NE ttbl_EDDoc2.ChgDate OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Changed: " AT 3 ttbl_EDDoc1.ChgDate FORMAT "99/99/9999" " (ChgDate)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.ChgDate NE ttbl_EDDoc2.ChgDate THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Changed: " AT 3 ttbl_EDDoc2.ChgDate FORMAT "99/99/9999".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.ChgOp NE ttbl_EDDoc2.ChgOp OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Chg By: " AT 3 ttbl_EDDoc1.ChgOp " (ChgOp)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.ChgOp NE ttbl_EDDoc2.ChgOp THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Chg By: " AT 3 ttbl_EDDoc2.ChgOp.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.ChgTime NE ttbl_EDDoc2.ChgTime OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "@: " AT 3 ttbl_EDDoc1.ChgTime FORMAT ">>>>>" " (ChgTime)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.ChgTime NE ttbl_EDDoc2.ChgTime THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "@: " AT 3 ttbl_EDDoc2.ChgTime FORMAT ">>>>>".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.Direction NE ttbl_EDDoc2.Direction OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "I/O: " AT 3 ttbl_EDDoc1.Direction " (Direction)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.Direction NE ttbl_EDDoc2.Direction THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "I/O: " AT 3 ttbl_EDDoc2.Direction.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.DocID NE ttbl_EDDoc2.DocID OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.DocID " (DocID)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.DocID NE ttbl_EDDoc2.DocID THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.DocID.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.DocSeq NE ttbl_EDDoc2.DocSeq OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.DocSeq FORMAT ">>>>9" " (DocSeq)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.DocSeq NE ttbl_EDDoc2.DocSeq THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.DocSeq FORMAT ">>>>9".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.EDI_Agency NE ttbl_EDDoc2.EDI_Agency OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.EDI_Agency " (EDI_Agency)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.EDI_Agency NE ttbl_EDDoc2.EDI_Agency THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.EDI_Agency.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.EDI_Standard NE ttbl_EDDoc2.EDI_Standard OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.EDI_Standard " (EDI_Standard)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.EDI_Standard NE ttbl_EDDoc2.EDI_Standard THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.EDI_Standard.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.Error-count NE ttbl_EDDoc2.Error-count OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Errors: " AT 3 ttbl_EDDoc1.Error-count FORMAT ">>>" " (Error-count)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.Error-count NE ttbl_EDDoc2.Error-count THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Errors: " AT 3 ttbl_EDDoc2.Error-count FORMAT ">>>".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.FGAgency NE ttbl_EDDoc2.FGAgency OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.FGAgency " (FGAgency)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.FGAgency NE ttbl_EDDoc2.FGAgency THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.FGAgency.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.FGDate NE ttbl_EDDoc2.FGDate OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.FGDate FORMAT "99/99/9999" " (FGDate)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.FGDate NE ttbl_EDDoc2.FGDate THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.FGDate FORMAT "99/99/9999".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.FGID NE ttbl_EDDoc2.FGID OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.FGID " (FGID)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.FGID NE ttbl_EDDoc2.FGID THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.FGID.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.FGRecvID NE ttbl_EDDoc2.FGRecvID OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.FGRecvID " (FGRecvID)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.FGRecvID NE ttbl_EDDoc2.FGRecvID THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.FGRecvID.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.FGSender NE ttbl_EDDoc2.FGSender OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.FGSender " (FGSender)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.FGSender NE ttbl_EDDoc2.FGSender THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.FGSender.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.FGTime NE ttbl_EDDoc2.FGTime OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.FGTime FORMAT ">>>>>9" " (FGTime)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.FGTime NE ttbl_EDDoc2.FGTime THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.FGTime FORMAT ">>>>>9".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.GS NE ttbl_EDDoc2.GS OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.GS FORMAT ">>>>>>>>9" " (GS)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.GS NE ttbl_EDDoc2.GS THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.GS FORMAT ">>>>>>>>9".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.InterpDate NE ttbl_EDDoc2.InterpDate OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.InterpDate FORMAT "99/99/9999" " (InterpDate)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.InterpDate NE ttbl_EDDoc2.InterpDate THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.InterpDate FORMAT "99/99/9999".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.InterpTime NE ttbl_EDDoc2.InterpTime OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.InterpTime FORMAT ">>>>>9" " (InterpTime)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.InterpTime NE ttbl_EDDoc2.InterpTime THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.InterpTime FORMAT ">>>>>9".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.ISA NE ttbl_EDDoc2.ISA OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.ISA FORMAT ">>>>>>>>9" " (ISA)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.ISA NE ttbl_EDDoc2.ISA THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.ISA FORMAT ">>>>>>>>9".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.OpenItem NE ttbl_EDDoc2.OpenItem OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Open?: " AT 3 ttbl_EDDoc1.OpenItem FORMAT "Y/N" " (OpenItem)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.OpenItem NE ttbl_EDDoc2.OpenItem THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Open?: " AT 3 ttbl_EDDoc2.OpenItem FORMAT "Y/N".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.P-FADate NE ttbl_EDDoc2.P-FADate OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.P-FADate FORMAT "99/99/9999" " (P-FADate)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.P-FADate NE ttbl_EDDoc2.P-FADate THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.P-FADate FORMAT "99/99/9999".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.P-FATime NE ttbl_EDDoc2.P-FATime OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.P-FATime FORMAT ">>>>>9" " (P-FATime)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.P-FATime NE ttbl_EDDoc2.P-FATime THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.P-FATime FORMAT ">>>>>9".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.Partner NE ttbl_EDDoc2.Partner OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.Partner " (Partner)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.Partner NE ttbl_EDDoc2.Partner THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.Partner.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.Posted NE ttbl_EDDoc2.Posted OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Posted?: " AT 3 ttbl_EDDoc1.Posted FORMAT "Y/N" " (Posted)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.Posted NE ttbl_EDDoc2.Posted THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Posted?: " AT 3 ttbl_EDDoc2.Posted FORMAT "Y/N".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.Recv-Test-Prod NE ttbl_EDDoc2.Recv-Test-Prod OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.Recv-Test-Prod " (Recv-Test-Prod)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.Recv-Test-Prod NE ttbl_EDDoc2.Recv-Test-Prod THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.Recv-Test-Prod.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.Seq NE ttbl_EDDoc2.Seq OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.Seq FORMAT ">>>>>>9" " (Seq)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.Seq NE ttbl_EDDoc2.Seq THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.Seq FORMAT ">>>>>>9".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.Set-Test-Prod NE ttbl_EDDoc2.Set-Test-Prod OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.Set-Test-Prod " (Set-Test-Prod)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.Set-Test-Prod NE ttbl_EDDoc2.Set-Test-Prod THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.Set-Test-Prod.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.SetID NE ttbl_EDDoc2.SetID OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.SetID " (SetID)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.SetID NE ttbl_EDDoc2.SetID THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.SetID.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.ST NE ttbl_EDDoc2.ST OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.ST FORMAT ">>>>>>>>9" " (ST)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.ST NE ttbl_EDDoc2.ST THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.ST FORMAT ">>>>>>>>9".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.ST-Code NE ttbl_EDDoc2.ST-Code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.ST-Code " (ST-Code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.ST-Code NE ttbl_EDDoc2.ST-Code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.ST-Code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.Stat NE ttbl_EDDoc2.Stat OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "St: " AT 3 ttbl_EDDoc1.Stat FORMAT "9" " (Stat)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.Stat NE ttbl_EDDoc2.Stat THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "St: " AT 3 ttbl_EDDoc2.Stat FORMAT "9".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.Status-Flag NE ttbl_EDDoc2.Status-Flag OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "PStat: " AT 3 ttbl_EDDoc1.Status-Flag " (Status-Flag)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.Status-Flag NE ttbl_EDDoc2.Status-Flag THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "PStat: " AT 3 ttbl_EDDoc2.Status-Flag.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.Unique-Order-No NE ttbl_EDDoc2.Unique-Order-No OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Unique Order#: " AT 3 ttbl_EDDoc1.Unique-Order-No FORMAT ">>>>>9" " (Unique-Order-No)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.Unique-Order-No NE ttbl_EDDoc2.Unique-Order-No THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Unique Order#: " AT 3 ttbl_EDDoc2.Unique-Order-No FORMAT ">>>>>9".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.Unique-SDQ-No NE ttbl_EDDoc2.Unique-SDQ-No OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "SDQ#: " AT 3 ttbl_EDDoc1.Unique-SDQ-No FORMAT ">>>>>9" " (Unique-SDQ-No)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.Unique-SDQ-No NE ttbl_EDDoc2.Unique-SDQ-No THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "SDQ#: " AT 3 ttbl_EDDoc2.Unique-SDQ-No FORMAT ">>>>>9".
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.UserRef NE ttbl_EDDoc2.UserRef OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.UserRef " (UserRef)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.UserRef NE ttbl_EDDoc2.UserRef THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.UserRef.
  END.
END.
IF NOT v_field_changed OR ttbl_EDDoc1.Version NE ttbl_EDDoc2.Version OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc1.Version " (Version)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDDoc1.Version NE ttbl_EDDoc2.Version THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDDoc2.Version.
  END.
END.
IF v_show_index THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Index Fields - Label: Value (database field-name)" AT 5.
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 7.
  IF action = "UPDATE" THEN
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_EDDoc2.Partner " (Partner)".
  ELSE
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_EDDoc1.Partner " (Partner)".
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 7.
  IF action = "UPDATE" THEN
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_EDDoc2.Seq FORMAT ">>>>>>9" " (Seq)".
  ELSE
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_EDDoc1.Seq FORMAT ">>>>>>9" " (Seq)".
END.
PUT STREAM s-audit-rpt UNFORMATTED SKIP(1).
