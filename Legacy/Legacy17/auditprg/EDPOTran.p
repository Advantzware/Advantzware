/* EDPOTran.p - generated 12/09/2005 - 15:42:43 by NoSweat */

/* this program was generated by auditgn1.p and should not be modified */
/* modifications should be made to the auto generation program         */

DEFINE INPUT PARAMETER action AS CHARACTER NO-UNDO.

DEFINE VARIABLE i AS INTEGER NO-UNDO.

{methods/defines/audit.i}
FIND FIRST ttbl_header.

DEFINE WORK-TABLE ttbl_EDPOTran1 NO-UNDO LIKE EDPOTran.
DEFINE WORK-TABLE ttbl_EDPOTran2 NO-UNDO LIKE EDPOTran.

CREATE ttbl_EDPOTran1.
IMPORT STREAM s_audit_file ttbl_EDPOTran1.
CREATE ttbl_EDPOTran2.
IF action = "UPDATE" THEN
IMPORT STREAM s_audit_file ttbl_EDPOTran2.

PUT STREAM s-audit-rpt UNFORMATTED
  "Action    User ID/(User Name)            DB.Table/(Database)  Date       Time" SKIP
  "--------- ------------------------------ -------------------- ---------- --------" SKIP
  ttbl_header.v_action AT 1
  ttbl_header.v_userid AT 11
  ttbl_header.v_file AT 42
  ttbl_header.v_date FORMAT "99/99/9999" AT 63
  STRING(ttbl_header.v_time,"HH:MM:SS") AT 74.
FIND users WHERE users.user_id = v_userid NO-LOCK NO-ERROR.
IF AVAILABLE users THEN
PUT STREAM s-audit-rpt UNFORMATTED "(" AT 10 users.user_name ")".
ELSE
PUT STREAM s-audit-rpt UNFORMATTED "(user record does not exist)" AT 10.
PUT STREAM s-audit-rpt UNFORMATTED
  "(" AT 41 ttbl_header.v_db ")" SKIP(1)
  "Label: Value (database field-name)" AT 3.
IF action = "UPDATE" THEN
PUT STREAM s-audit-rpt UNFORMATTED " ( * - denotes field value change )".
PUT STREAM s-audit-rpt UNFORMATTED FILL("-",75) AT 3.
IF NOT v_field_changed OR ttbl_EDPOTran1.Bo-flag NE ttbl_EDPOTran2.Bo-flag OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Bo-flag " (Bo-flag)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Bo-flag NE ttbl_EDPOTran2.Bo-flag THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Bo-flag.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Bt-code NE ttbl_EDPOTran2.Bt-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Bt-code " (Bt-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Bt-code NE ttbl_EDPOTran2.Bt-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Bt-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.By-code NE ttbl_EDPOTran2.By-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.By-code " (By-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.By-code NE ttbl_EDPOTran2.By-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.By-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Cancel-date NE ttbl_EDPOTran2.Cancel-date OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Cancel-date FORMAT "99/99/9999" " (Cancel-date)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Cancel-date NE ttbl_EDPOTran2.Cancel-date THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Cancel-date FORMAT "99/99/9999".
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Cancel-date-code NE ttbl_EDPOTran2.Cancel-date-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Cancel-Code: " AT 3 ttbl_EDPOTran1.Cancel-date-code " (Cancel-date-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Cancel-date-code NE ttbl_EDPOTran2.Cancel-date-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Cancel-Code: " AT 3 ttbl_EDPOTran2.Cancel-date-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Catalog NE ttbl_EDPOTran2.Catalog OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Catalog " (Catalog)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Catalog NE ttbl_EDPOTran2.Catalog THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Catalog.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Contract NE ttbl_EDPOTran2.Contract OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Contract " (Contract)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Contract NE ttbl_EDPOTran2.Contract THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Contract.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Curr-buyer NE ttbl_EDPOTran2.Curr-buyer OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Curr-buyer " (Curr-buyer)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Curr-buyer NE ttbl_EDPOTran2.Curr-buyer THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Curr-buyer.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Curr-rate-buyer NE ttbl_EDPOTran2.Curr-rate-buyer OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Curr-rate-buyer FORMAT "->>>>>>9.99<" " (Curr-rate-buyer)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Curr-rate-buyer NE ttbl_EDPOTran2.Curr-rate-buyer THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Curr-rate-buyer FORMAT "->>>>>>9.99<".
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Curr-rate-seller NE ttbl_EDPOTran2.Curr-rate-seller OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Curr-rate-seller FORMAT "->>>>>>9.99<" " (Curr-rate-seller)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Curr-rate-seller NE ttbl_EDPOTran2.Curr-rate-seller THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Curr-rate-seller FORMAT "->>>>>>9.99<".
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Curr-seller NE ttbl_EDPOTran2.Curr-seller OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Curr-seller " (Curr-seller)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Curr-seller NE ttbl_EDPOTran2.Curr-seller THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Curr-seller.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Cust NE ttbl_EDPOTran2.Cust OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Cust " (Cust)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Cust NE ttbl_EDPOTran2.Cust THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Cust.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Cust-dept NE ttbl_EDPOTran2.Cust-dept OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Cust-dept " (Cust-dept)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Cust-dept NE ttbl_EDPOTran2.Cust-dept THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Cust-dept.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Cust-Div NE ttbl_EDPOTran2.Cust-Div OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Cust-Div " (Cust-Div)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Cust-Div NE ttbl_EDPOTran2.Cust-Div THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Cust-Div.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Cust-po NE ttbl_EDPOTran2.Cust-po OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Cust-po " (Cust-po)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Cust-po NE ttbl_EDPOTran2.Cust-po THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Cust-po.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Last-line NE ttbl_EDPOTran2.Last-line OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Last-line FORMAT ">>9" " (Last-line)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Last-line NE ttbl_EDPOTran2.Last-line THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Last-line FORMAT ">>9".
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Lines NE ttbl_EDPOTran2.Lines OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Lines FORMAT ">>9" " (Lines)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Lines NE ttbl_EDPOTran2.Lines THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Lines FORMAT ">>9".
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Misc-date1 NE ttbl_EDPOTran2.Misc-date1 OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Misc-date1 FORMAT "99/99/9999" " (Misc-date1)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Misc-date1 NE ttbl_EDPOTran2.Misc-date1 THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Misc-date1 FORMAT "99/99/9999".
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Misc-date1-code NE ttbl_EDPOTran2.Misc-date1-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Misc-date1-code " (Misc-date1-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Misc-date1-code NE ttbl_EDPOTran2.Misc-date1-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Misc-date1-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Order-amount NE ttbl_EDPOTran2.Order-amount OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Order-amount FORMAT "->>>,>>>,>>9.99<<" " (Order-amount)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Order-amount NE ttbl_EDPOTran2.Order-amount THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Order-amount FORMAT "->>>,>>>,>>9.99<<".
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Order-date NE ttbl_EDPOTran2.Order-date OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Order-date FORMAT "99/99/9999" " (Order-date)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Order-date NE ttbl_EDPOTran2.Order-date THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Order-date FORMAT "99/99/9999".
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Order-type NE ttbl_EDPOTran2.Order-type OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Type: " AT 3 ttbl_EDPOTran1.Order-type " (Order-type)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Order-type NE ttbl_EDPOTran2.Order-type THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Type: " AT 3 ttbl_EDPOTran2.Order-type.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Package-code NE ttbl_EDPOTran2.Package-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Package-code " (Package-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Package-code NE ttbl_EDPOTran2.Package-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Package-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Partner NE ttbl_EDPOTran2.Partner OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Partner " (Partner)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Partner NE ttbl_EDPOTran2.Partner THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Partner.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Promo-code NE ttbl_EDPOTran2.Promo-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Promo-code " (Promo-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Promo-code NE ttbl_EDPOTran2.Promo-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Promo-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Purpose-code NE ttbl_EDPOTran2.Purpose-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Purpose: " AT 3 ttbl_EDPOTran1.Purpose-code " (Purpose-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Purpose-code NE ttbl_EDPOTran2.Purpose-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Purpose: " AT 3 ttbl_EDPOTran2.Purpose-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Re-code NE ttbl_EDPOTran2.Re-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Re-code " (Re-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Re-code NE ttbl_EDPOTran2.Re-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Re-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Ref2 NE ttbl_EDPOTran2.Ref2 OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Ref2 " (Ref2)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Ref2 NE ttbl_EDPOTran2.Ref2 THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Ref2.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Ref2-code NE ttbl_EDPOTran2.Ref2-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Ref2-code " (Ref2-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Ref2-code NE ttbl_EDPOTran2.Ref2-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Ref2-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Ref3 NE ttbl_EDPOTran2.Ref3 OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Ref3 " (Ref3)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Ref3 NE ttbl_EDPOTran2.Ref3 THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Ref3.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Ref3-code NE ttbl_EDPOTran2.Ref3-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Ref3-code " (Ref3-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Ref3-code NE ttbl_EDPOTran2.Ref3-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Ref3-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Release-no NE ttbl_EDPOTran2.Release-no OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Release-no " (Release-no)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Release-no NE ttbl_EDPOTran2.Release-no THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Release-no.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Request-date NE ttbl_EDPOTran2.Request-date OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Request-date FORMAT "99/99/9999" " (Request-date)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Request-date NE ttbl_EDPOTran2.Request-date THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Request-date FORMAT "99/99/9999".
  END.
END.
DO i = 1 TO 4:
IF NOT v_field_changed OR ttbl_EDPOTran1.Routing[i] NE ttbl_EDPOTran2.Routing[i] OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?[" AT 3 i "]: " ttbl_EDPOTran1.Routing[i] " (Routing[" i "])".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Routing[i] NE ttbl_EDPOTran2.Routing[i] THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?[" AT 3 i "]: " ttbl_EDPOTran2.Routing[i].
  END.
END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Scheduled-code1 NE ttbl_EDPOTran2.Scheduled-code1 OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Scheduled-code1 " (Scheduled-code1)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Scheduled-code1 NE ttbl_EDPOTran2.Scheduled-code1 THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Scheduled-code1.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Scheduled-code2 NE ttbl_EDPOTran2.Scheduled-code2 OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Scheduled-code2 " (Scheduled-code2)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Scheduled-code2 NE ttbl_EDPOTran2.Scheduled-code2 THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Scheduled-code2.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Scheduled-code3 NE ttbl_EDPOTran2.Scheduled-code3 OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Scheduled-code3 " (Scheduled-code3)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Scheduled-code3 NE ttbl_EDPOTran2.Scheduled-code3 THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Scheduled-code3.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Seq NE ttbl_EDPOTran2.Seq OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Seq FORMAT ">>>>>>9" " (Seq)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Seq NE ttbl_EDPOTran2.Seq THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Seq FORMAT ">>>>>>9".
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Sf-code NE ttbl_EDPOTran2.Sf-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Sf-code " (Sf-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Sf-code NE ttbl_EDPOTran2.Sf-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Sf-code.
  END.
END.
DO i = 1 TO 3:
IF NOT v_field_changed OR ttbl_EDPOTran1.Ship-address[i] NE ttbl_EDPOTran2.Ship-address[i] OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Address[" AT 3 i "]: " ttbl_EDPOTran1.Ship-address[i] " (Ship-address[" i "])".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Ship-address[i] NE ttbl_EDPOTran2.Ship-address[i] THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Address[" AT 3 i "]: " ttbl_EDPOTran2.Ship-address[i].
  END.
END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Ship-city NE ttbl_EDPOTran2.Ship-city OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "City: " AT 3 ttbl_EDPOTran1.Ship-city " (Ship-city)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Ship-city NE ttbl_EDPOTran2.Ship-city THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "City: " AT 3 ttbl_EDPOTran2.Ship-city.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Ship-country NE ttbl_EDPOTran2.Ship-country OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Country: " AT 3 ttbl_EDPOTran1.Ship-country " (Ship-country)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Ship-country NE ttbl_EDPOTran2.Ship-country THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Country: " AT 3 ttbl_EDPOTran2.Ship-country.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Ship-date-code NE ttbl_EDPOTran2.Ship-date-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Ship-date-code " (Ship-date-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Ship-date-code NE ttbl_EDPOTran2.Ship-date-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Ship-date-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Ship-loc-code NE ttbl_EDPOTran2.Ship-loc-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Ship-loc-code " (Ship-loc-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Ship-loc-code NE ttbl_EDPOTran2.Ship-loc-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Ship-loc-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Ship-method-code NE ttbl_EDPOTran2.Ship-method-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Ship-method-code " (Ship-method-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Ship-method-code NE ttbl_EDPOTran2.Ship-method-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Ship-method-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Ship-name NE ttbl_EDPOTran2.Ship-name OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Ship-name " (Ship-name)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Ship-name NE ttbl_EDPOTran2.Ship-name THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Ship-name.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Ship-pay-code NE ttbl_EDPOTran2.Ship-pay-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Ship-pay-code " (Ship-pay-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Ship-pay-code NE ttbl_EDPOTran2.Ship-pay-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Ship-pay-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Ship-st NE ttbl_EDPOTran2.Ship-st OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "St: " AT 3 ttbl_EDPOTran1.Ship-st " (Ship-st)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Ship-st NE ttbl_EDPOTran2.Ship-st THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "St: " AT 3 ttbl_EDPOTran2.Ship-st.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Ship-stat NE ttbl_EDPOTran2.Ship-stat OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Ship-stat " (Ship-stat)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Ship-stat NE ttbl_EDPOTran2.Ship-stat THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Ship-stat.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Ship-zip NE ttbl_EDPOTran2.Ship-zip OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Zip-code: " AT 3 ttbl_EDPOTran1.Ship-zip " (Ship-zip)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Ship-zip NE ttbl_EDPOTran2.Ship-zip THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Zip-code: " AT 3 ttbl_EDPOTran2.Ship-zip.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Sn-code NE ttbl_EDPOTran2.Sn-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Sn-code " (Sn-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Sn-code NE ttbl_EDPOTran2.Sn-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Sn-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Special-svc-code NE ttbl_EDPOTran2.Special-svc-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Special-svc-code " (Special-svc-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Special-svc-code NE ttbl_EDPOTran2.Special-svc-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Special-svc-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.St-code NE ttbl_EDPOTran2.St-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.St-code " (St-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.St-code NE ttbl_EDPOTran2.St-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.St-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Terms NE ttbl_EDPOTran2.Terms OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Terms " (Terms)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Terms NE ttbl_EDPOTran2.Terms THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Terms.
  END.
END.
DO i = 1 TO 2:
IF NOT v_field_changed OR ttbl_EDPOTran1.Terms-desc[i] NE ttbl_EDPOTran2.Terms-desc[i] OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?[" AT 3 i "]: " ttbl_EDPOTran1.Terms-desc[i] " (Terms-desc[" i "])".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Terms-desc[i] NE ttbl_EDPOTran2.Terms-desc[i] THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?[" AT 3 i "]: " ttbl_EDPOTran2.Terms-desc[i].
  END.
END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Tin NE ttbl_EDPOTran2.Tin OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Tin " (Tin)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Tin NE ttbl_EDPOTran2.Tin THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Tin.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Tin-code NE ttbl_EDPOTran2.Tin-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Tin-code " (Tin-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Tin-code NE ttbl_EDPOTran2.Tin-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Tin-code.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Tin-loc NE ttbl_EDPOTran2.Tin-loc OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Tin-loc " (Tin-loc)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Tin-loc NE ttbl_EDPOTran2.Tin-loc THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Tin-loc.
  END.
END.
IF NOT v_field_changed OR ttbl_EDPOTran1.Vn-code NE ttbl_EDPOTran2.Vn-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran1.Vn-code " (Vn-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_EDPOTran1.Vn-code NE ttbl_EDPOTran2.Vn-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_EDPOTran2.Vn-code.
  END.
END.
IF v_show_index THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Index Fields - Label: Value (database field-name)" AT 5.
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 7.
  IF action = "UPDATE" THEN
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_EDPOTran2.Partner " (Partner)".
  ELSE
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_EDPOTran1.Partner " (Partner)".
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 7.
  IF action = "UPDATE" THEN
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_EDPOTran2.Seq FORMAT ">>>>>>9" " (Seq)".
  ELSE
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_EDPOTran1.Seq FORMAT ">>>>>>9" " (Seq)".
END.
PUT STREAM s-audit-rpt UNFORMATTED SKIP(1).
