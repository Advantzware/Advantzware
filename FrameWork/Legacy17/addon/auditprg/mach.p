/* mach.p - generated 01/10/2001 - 13:00:04 by nosweat */

/* this program was generated by auditgn1.p and should not be modified */
/* modifications should be made to the auto generation program         */

DEFINE INPUT PARAMETER action AS CHARACTER NO-UNDO.

DEFINE VARIABLE i AS INTEGER NO-UNDO.

{methods/defines/audit.i}
FIND FIRST ttbl_header.

DEFINE WORK-TABLE ttbl_mach1 NO-UNDO LIKE mach.
DEFINE WORK-TABLE ttbl_mach2 NO-UNDO LIKE mach.

CREATE ttbl_mach1.
IMPORT STREAM s_audit_file ttbl_mach1.
CREATE ttbl_mach2.
IF action = "UPDATE" THEN
IMPORT STREAM s_audit_file ttbl_mach2.

PUT STREAM s-audit-rpt UNFORMATTED
  "Action    User ID/(User Name)            DB.Table/(Database)  Date       Time" SKIP
  "--------- ------------------------------ -------------------- ---------- --------" SKIP
  ttbl_header.v_action AT 1
  ttbl_header.v_userid AT 11
  ttbl_header.v_file AT 42
  ttbl_header.v_date FORMAT "99/99/9999" AT 63
  STRING(ttbl_header.v_time,"HH:MM:SS") AT 74.
FIND users WHERE users.user_id = v_userid NO-LOCK NO-ERROR.
IF AVAILABLE users THEN
PUT STREAM s-audit-rpt UNFORMATTED "(" AT 10 users.user_name ")".
ELSE
PUT STREAM s-audit-rpt UNFORMATTED "(user record does not exist)" AT 10.
PUT STREAM s-audit-rpt UNFORMATTED
  "(" AT 41 ttbl_header.v_db ")" SKIP(1)
  "Label: Value (database field-name)" AT 3.
IF action = "UPDATE" THEN
PUT STREAM s-audit-rpt UNFORMATTED " ( * - denotes field value change )".
PUT STREAM s-audit-rpt UNFORMATTED FILL("-",75) AT 3.
IF NOT v_field_changed OR ttbl_mach1.blade-trim NE ttbl_mach2.blade-trim OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Blade Trim: " AT 3 ttbl_mach1.blade-trim FORMAT ">>>>9.99<<<" " (blade-trim)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.blade-trim NE ttbl_mach2.blade-trim THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Blade Trim: " AT 3 ttbl_mach2.blade-trim FORMAT ">>>>9.99<<<".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.coater NE ttbl_mach2.coater OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Coater on Press: " AT 3 ttbl_mach1.coater FORMAT "Y/N" " (coater)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.coater NE ttbl_mach2.coater THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Coater on Press: " AT 3 ttbl_mach2.coater FORMAT "Y/N".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.col-pass NE ttbl_mach2.col-pass OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Per Color/Pass: " AT 3 ttbl_mach1.col-pass " (col-pass)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.col-pass NE ttbl_mach2.col-pass THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Per Color/Pass: " AT 3 ttbl_mach2.col-pass.
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.col-wastelb NE ttbl_mach2.col-wastelb OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Ink MR Waste/Color: " AT 3 ttbl_mach1.col-wastelb FORMAT ">9.999" " (col-wastelb)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.col-wastelb NE ttbl_mach2.col-wastelb THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Ink MR Waste/Color: " AT 3 ttbl_mach2.col-wastelb FORMAT ">9.999".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.col-wastesh NE ttbl_mach2.col-wastesh OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "MR Waste per Color: " AT 3 ttbl_mach1.col-wastesh FORMAT ">>>9" " (col-wastesh)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.col-wastesh NE ttbl_mach2.col-wastesh THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "MR Waste per Color: " AT 3 ttbl_mach2.col-wastesh FORMAT ">>>9".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.company NE ttbl_mach2.company OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Company: " AT 3 ttbl_mach1.company " (company)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.company NE ttbl_mach2.company THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Company: " AT 3 ttbl_mach2.company.
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.corr NE ttbl_mach2.corr OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Corr: " AT 3 ttbl_mach1.corr FORMAT "Yes/No" " (corr)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.corr NE ttbl_mach2.corr THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Corr: " AT 3 ttbl_mach2.corr FORMAT "Yes/No".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.d-seq NE ttbl_mach2.d-seq OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Dept. Sequence: " AT 3 ttbl_mach1.d-seq FORMAT ">9" " (d-seq)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.d-seq NE ttbl_mach2.d-seq THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Dept. Sequence: " AT 3 ttbl_mach2.d-seq FORMAT ">9".
  END.
END.
DO i = 1 TO 4:
IF NOT v_field_changed OR ttbl_mach1.dept[i] NE ttbl_mach2.dept[i] OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Department[" AT 3 i "]: " ttbl_mach1.dept[i] " (dept[" i "])".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.dept[i] NE ttbl_mach2.dept[i] THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Department[" AT 3 i "]: " ttbl_mach2.dept[i].
  END.
END.
END.
IF NOT v_field_changed OR ttbl_mach1.die-cost NE ttbl_mach2.die-cost OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Die Cost: " AT 3 ttbl_mach1.die-cost FORMAT ">>9.99" " (die-cost)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.die-cost NE ttbl_mach2.die-cost THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Die Cost: " AT 3 ttbl_mach2.die-cost FORMAT ">>9.99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.fc NE ttbl_mach2.fc OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "FC: " AT 3 ttbl_mach1.fc FORMAT "Yes/No" " (fc)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.fc NE ttbl_mach2.fc THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "FC: " AT 3 ttbl_mach2.fc FORMAT "Yes/No".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.industry NE ttbl_mach2.industry OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Industry: " AT 3 ttbl_mach1.industry " (industry)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.industry NE ttbl_mach2.industry THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Industry: " AT 3 ttbl_mach2.industry.
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.ink-waste NE ttbl_mach2.ink-waste OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Ink MR Waste: " AT 3 ttbl_mach1.ink-waste FORMAT ">9.999" " (ink-waste)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.ink-waste NE ttbl_mach2.ink-waste THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Ink MR Waste: " AT 3 ttbl_mach2.ink-waste FORMAT ">9.999".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.lab-drate NE ttbl_mach2.lab-drate OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Default labor rate: " AT 3 ttbl_mach1.lab-drate FORMAT ">" " (lab-drate)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.lab-drate NE ttbl_mach2.lab-drate THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Default labor rate: " AT 3 ttbl_mach2.lab-drate FORMAT ">".
  END.
END.
DO i = 1 TO 3:
IF NOT v_field_changed OR ttbl_mach1.lab-rate[i] NE ttbl_mach2.lab-rate[i] OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Labor Rate[" AT 3 i "]: " ttbl_mach1.lab-rate[i] FORMAT ">>9.99" " (lab-rate[" i "])".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.lab-rate[i] NE ttbl_mach2.lab-rate[i] THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Labor Rate[" AT 3 i "]: " ttbl_mach2.lab-rate[i] FORMAT ">>9.99".
  END.
END.
END.
IF NOT v_field_changed OR ttbl_mach1.loc NE ttbl_mach2.loc OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Location: " AT 3 ttbl_mach1.loc " (loc)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.loc NE ttbl_mach2.loc THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Location: " AT 3 ttbl_mach2.loc.
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.m-code NE ttbl_mach2.m-code OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Code: " AT 3 ttbl_mach1.m-code " (m-code)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.m-code NE ttbl_mach2.m-code THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Code: " AT 3 ttbl_mach2.m-code.
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.m-dscr NE ttbl_mach2.m-dscr OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Description: " AT 3 ttbl_mach1.m-dscr " (m-dscr)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.m-dscr NE ttbl_mach2.m-dscr THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Description: " AT 3 ttbl_mach2.m-dscr.
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.m-seq NE ttbl_mach2.m-seq OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Mach Seq: " AT 3 ttbl_mach1.m-seq FORMAT "99" " (m-seq)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.m-seq NE ttbl_mach2.m-seq THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Mach Seq: " AT 3 ttbl_mach2.m-seq FORMAT "99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.matl-cost NE ttbl_mach2.matl-cost OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Material Cost: " AT 3 ttbl_mach1.matl-cost FORMAT ">>9.99" " (matl-cost)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.matl-cost NE ttbl_mach2.matl-cost THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Material Cost: " AT 3 ttbl_mach2.matl-cost FORMAT ">>9.99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.max-cal NE ttbl_mach2.max-cal OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Max Caliper: " AT 3 ttbl_mach1.max-cal FORMAT "9.99999" " (max-cal)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.max-cal NE ttbl_mach2.max-cal THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Max Caliper: " AT 3 ttbl_mach2.max-cal FORMAT "9.99999".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.max-color NE ttbl_mach2.max-color OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Max # of colors: " AT 3 ttbl_mach1.max-color FORMAT ">9" " (max-color)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.max-color NE ttbl_mach2.max-color THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Max # of colors: " AT 3 ttbl_mach2.max-color FORMAT ">9".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.max-dep NE ttbl_mach2.max-dep OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Max Depth: " AT 3 ttbl_mach1.max-dep FORMAT ">>9.99999" " (max-dep)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.max-dep NE ttbl_mach2.max-dep THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Max Depth: " AT 3 ttbl_mach2.max-dep FORMAT ">>9.99999".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.max-len NE ttbl_mach2.max-len OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Max Length: " AT 3 ttbl_mach1.max-len FORMAT ">>9.99999" " (max-len)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.max-len NE ttbl_mach2.max-len THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Max Length: " AT 3 ttbl_mach2.max-len FORMAT ">>9.99999".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.max-pan-l NE ttbl_mach2.max-pan-l OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Max Panel Length: " AT 3 ttbl_mach1.max-pan-l FORMAT ">>9.99999" " (max-pan-l)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.max-pan-l NE ttbl_mach2.max-pan-l THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Max Panel Length: " AT 3 ttbl_mach2.max-pan-l FORMAT ">>9.99999".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.max-pan-w NE ttbl_mach2.max-pan-w OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Max Panel Width: " AT 3 ttbl_mach1.max-pan-w FORMAT ">>9.99999" " (max-pan-w)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.max-pan-w NE ttbl_mach2.max-pan-w THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Max Panel Width: " AT 3 ttbl_mach2.max-pan-w FORMAT ">>9.99999".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.max-run NE ttbl_mach2.max-run OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Max Run Qty: " AT 3 ttbl_mach1.max-run FORMAT ">>,>>>,>>9" " (max-run)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.max-run NE ttbl_mach2.max-run THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Max Run Qty: " AT 3 ttbl_mach2.max-run FORMAT ">>,>>>,>>9".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.max-wid NE ttbl_mach2.max-wid OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Max Width: " AT 3 ttbl_mach1.max-wid FORMAT ">>9.99999" " (max-wid)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.max-wid NE ttbl_mach2.max-wid THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Max Width: " AT 3 ttbl_mach2.max-wid FORMAT ">>9.99999".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.min-cal NE ttbl_mach2.min-cal OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Min Caliper: " AT 3 ttbl_mach1.min-cal FORMAT "9.99999" " (min-cal)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.min-cal NE ttbl_mach2.min-cal THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Min Caliper: " AT 3 ttbl_mach2.min-cal FORMAT "9.99999".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.min-dep NE ttbl_mach2.min-dep OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Min Depth: " AT 3 ttbl_mach1.min-dep FORMAT ">>9.99999" " (min-dep)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.min-dep NE ttbl_mach2.min-dep THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Min Depth: " AT 3 ttbl_mach2.min-dep FORMAT ">>9.99999".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.min-len NE ttbl_mach2.min-len OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Minimum Length: " AT 3 ttbl_mach1.min-len FORMAT ">>9.99999" " (min-len)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.min-len NE ttbl_mach2.min-len THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Minimum Length: " AT 3 ttbl_mach2.min-len FORMAT ">>9.99999".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.min-pan-l NE ttbl_mach2.min-pan-l OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Min Panel Length: " AT 3 ttbl_mach1.min-pan-l FORMAT ">>9.99999" " (min-pan-l)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.min-pan-l NE ttbl_mach2.min-pan-l THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Min Panel Length: " AT 3 ttbl_mach2.min-pan-l FORMAT ">>9.99999".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.min-pan-w NE ttbl_mach2.min-pan-w OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Min Panel Width: " AT 3 ttbl_mach1.min-pan-w FORMAT ">>9.99999" " (min-pan-w)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.min-pan-w NE ttbl_mach2.min-pan-w THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Min Panel Width: " AT 3 ttbl_mach2.min-pan-w FORMAT ">>9.99999".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.min-run NE ttbl_mach2.min-run OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Min Run Qty: " AT 3 ttbl_mach1.min-run FORMAT ">>,>>>,>>9" " (min-run)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.min-run NE ttbl_mach2.min-run THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Min Run Qty: " AT 3 ttbl_mach2.min-run FORMAT ">>,>>>,>>9".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.min-triml NE ttbl_mach2.min-triml OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Min Trim Lgth: " AT 3 ttbl_mach1.min-triml FORMAT ">>9.99999" " (min-triml)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.min-triml NE ttbl_mach2.min-triml THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Min Trim Lgth: " AT 3 ttbl_mach2.min-triml FORMAT ">>9.99999".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.min-trimw NE ttbl_mach2.min-trimw OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Min Trim Wdth: " AT 3 ttbl_mach1.min-trimw FORMAT ">>9.99999" " (min-trimw)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.min-trimw NE ttbl_mach2.min-trimw THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Min Trim Wdth: " AT 3 ttbl_mach2.min-trimw FORMAT ">>9.99999".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.min-wid NE ttbl_mach2.min-wid OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Min Width: " AT 3 ttbl_mach1.min-wid FORMAT ">>9.99999" " (min-wid)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.min-wid NE ttbl_mach2.min-wid THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Min Width: " AT 3 ttbl_mach2.min-wid FORMAT ">>9.99999".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.mr-crusiz NE ttbl_mach2.mr-crusiz OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "MR Crew Size: " AT 3 ttbl_mach1.mr-crusiz FORMAT ">9.99" " (mr-crusiz)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.mr-crusiz NE ttbl_mach2.mr-crusiz THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "MR Crew Size: " AT 3 ttbl_mach2.mr-crusiz FORMAT ">9.99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.mr-fixoh NE ttbl_mach2.mr-fixoh OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "MR Fixed OH: " AT 3 ttbl_mach1.mr-fixoh FORMAT ">>9.99" " (mr-fixoh)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.mr-fixoh NE ttbl_mach2.mr-fixoh THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "MR Fixed OH: " AT 3 ttbl_mach2.mr-fixoh FORMAT ">>9.99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.mr-rate NE ttbl_mach2.mr-rate OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "MR Rate: " AT 3 ttbl_mach1.mr-rate FORMAT ">>9.99" " (mr-rate)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.mr-rate NE ttbl_mach2.mr-rate THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "MR Rate: " AT 3 ttbl_mach2.mr-rate FORMAT ">>9.99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.mr-trate NE ttbl_mach2.mr-trate OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "MR Total Rate: " AT 3 ttbl_mach1.mr-trate FORMAT ">>9.99" " (mr-trate)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.mr-trate NE ttbl_mach2.mr-trate THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "MR Total Rate: " AT 3 ttbl_mach2.mr-trate FORMAT ">>9.99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.mr-varoh NE ttbl_mach2.mr-varoh OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "MR Var OH: " AT 3 ttbl_mach1.mr-varoh FORMAT ">>9.99" " (mr-varoh)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.mr-varoh NE ttbl_mach2.mr-varoh THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "MR Var OH: " AT 3 ttbl_mach2.mr-varoh FORMAT ">>9.99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.mr-waste NE ttbl_mach2.mr-waste OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "MR Waste: " AT 3 ttbl_mach1.mr-waste FORMAT ">>>9" " (mr-waste)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.mr-waste NE ttbl_mach2.mr-waste THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "MR Waste: " AT 3 ttbl_mach2.mr-waste FORMAT ">>>9".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.mrk-rate NE ttbl_mach2.mrk-rate OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Market rate: " AT 3 ttbl_mach1.mrk-rate FORMAT ">>9.99" " (mrk-rate)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.mrk-rate NE ttbl_mach2.mrk-rate THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Market rate: " AT 3 ttbl_mach2.mrk-rate FORMAT ">>9.99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.num-len NE ttbl_mach2.num-len OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "# on Length: " AT 3 ttbl_mach1.num-len FORMAT ">9" " (num-len)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.num-len NE ttbl_mach2.num-len THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "# on Length: " AT 3 ttbl_mach2.num-len FORMAT ">9".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.num-wid NE ttbl_mach2.num-wid OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "# on Width: " AT 3 ttbl_mach1.num-wid FORMAT ">9" " (num-wid)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.num-wid NE ttbl_mach2.num-wid THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "# on Width: " AT 3 ttbl_mach2.num-wid FORMAT ">9".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.p-type NE ttbl_mach2.p-type OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Press Type: " AT 3 ttbl_mach1.p-type " (p-type)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.p-type NE ttbl_mach2.p-type THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Press Type: " AT 3 ttbl_mach2.p-type.
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.pr-type NE ttbl_mach2.pr-type OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Printer Type: " AT 3 ttbl_mach1.pr-type " (pr-type)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.pr-type NE ttbl_mach2.pr-type THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Printer Type: " AT 3 ttbl_mach2.pr-type.
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.run-crusiz NE ttbl_mach2.run-crusiz OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Run Crew Size: " AT 3 ttbl_mach1.run-crusiz FORMAT ">9.99" " (run-crusiz)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.run-crusiz NE ttbl_mach2.run-crusiz THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Run Crew Size: " AT 3 ttbl_mach2.run-crusiz FORMAT ">9.99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.run-fixoh NE ttbl_mach2.run-fixoh OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_mach1.run-fixoh FORMAT ">>9.99" " (run-fixoh)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.run-fixoh NE ttbl_mach2.run-fixoh THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "?: " AT 3 ttbl_mach2.run-fixoh FORMAT ">>9.99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.run-rate NE ttbl_mach2.run-rate OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Run Rate: " AT 3 ttbl_mach1.run-rate FORMAT ">>9.99" " (run-rate)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.run-rate NE ttbl_mach2.run-rate THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Run Rate: " AT 3 ttbl_mach2.run-rate FORMAT ">>9.99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.run-spoil NE ttbl_mach2.run-spoil OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Run Spoilage %: " AT 3 ttbl_mach1.run-spoil FORMAT ">>9.99" " (run-spoil)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.run-spoil NE ttbl_mach2.run-spoil THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Run Spoilage %: " AT 3 ttbl_mach2.run-spoil FORMAT ">>9.99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.run-trate NE ttbl_mach2.run-trate OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Run Total Rate: " AT 3 ttbl_mach1.run-trate FORMAT ">>9.99" " (run-trate)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.run-trate NE ttbl_mach2.run-trate THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Run Total Rate: " AT 3 ttbl_mach2.run-trate FORMAT ">>9.99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.run-varoh NE ttbl_mach2.run-varoh OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Run Var OH: " AT 3 ttbl_mach1.run-varoh FORMAT ">>9.99" " (run-varoh)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.run-varoh NE ttbl_mach2.run-varoh THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Run Var OH: " AT 3 ttbl_mach2.run-varoh FORMAT ">>9.99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.setup NE ttbl_mach2.setup OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Set Up: " AT 3 ttbl_mach1.setup FORMAT "Yes/No" " (setup)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.setup NE ttbl_mach2.setup THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Set Up: " AT 3 ttbl_mach2.setup FORMAT "Yes/No".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.tan-mrf NE ttbl_mach2.tan-mrf OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "MR Fountain: " AT 3 ttbl_mach1.tan-mrf FORMAT ">9.99" " (tan-mrf)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.tan-mrf NE ttbl_mach2.tan-mrf THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "MR Fountain: " AT 3 ttbl_mach2.tan-mrf FORMAT ">9.99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.tan-mrp NE ttbl_mach2.tan-mrp OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "MR Plate: " AT 3 ttbl_mach1.tan-mrp FORMAT ">9.99" " (tan-mrp)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.tan-mrp NE ttbl_mach2.tan-mrp THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "MR Plate: " AT 3 ttbl_mach2.tan-mrp FORMAT ">9.99".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.therm NE ttbl_mach2.therm OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED ": " AT 3 ttbl_mach1.therm FORMAT "Yes/No" " (therm)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.therm NE ttbl_mach2.therm THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED ": " AT 3 ttbl_mach2.therm FORMAT "Yes/No".
  END.
END.
IF NOT v_field_changed OR ttbl_mach1.washup NE ttbl_mach2.washup OR action NE "UPDATE" THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Washup Hrs: " AT 3 ttbl_mach1.washup FORMAT ">9.99" " (washup)".
  IF action = "UPDATE" THEN
  DO:
    IF ttbl_mach1.washup NE ttbl_mach2.washup THEN
    PUT STREAM s-audit-rpt UNFORMATTED "*" AT 1.
    PUT STREAM s-audit-rpt UNFORMATTED "Washup Hrs: " AT 3 ttbl_mach2.washup FORMAT ">9.99".
  END.
END.
IF v_show_index THEN
DO:
  PUT STREAM s-audit-rpt UNFORMATTED "Index Fields - Label: Value (database field-name)" AT 5.
  PUT STREAM s-audit-rpt UNFORMATTED "Company: " AT 7.
  IF action = "UPDATE" THEN
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_mach2.company " (company)".
  ELSE
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_mach1.company " (company)".
  PUT STREAM s-audit-rpt UNFORMATTED "Location: " AT 7.
  IF action = "UPDATE" THEN
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_mach2.loc " (loc)".
  ELSE
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_mach1.loc " (loc)".
  PUT STREAM s-audit-rpt UNFORMATTED "Dept. Sequence: " AT 7.
  IF action = "UPDATE" THEN
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_mach2.d-seq FORMAT ">9" " (d-seq)".
  ELSE
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_mach1.d-seq FORMAT ">9" " (d-seq)".
  PUT STREAM s-audit-rpt UNFORMATTED "Mach Seq: " AT 7.
  IF action = "UPDATE" THEN
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_mach2.m-seq FORMAT "99" " (m-seq)".
  ELSE
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_mach1.m-seq FORMAT "99" " (m-seq)".
  PUT STREAM s-audit-rpt UNFORMATTED "Code: " AT 7.
  IF action = "UPDATE" THEN
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_mach2.m-code " (m-code)".
  ELSE
  PUT STREAM s-audit-rpt UNFORMATTED ttbl_mach1.m-code " (m-code)".
END.
PUT STREAM s-audit-rpt UNFORMATTED SKIP(1).
