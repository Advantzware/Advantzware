<?xml version="1.0" encoding="utf-8"?>

<!--  http://confluence.consultingwerkcloud.com/wiki/display/SCL/The+Annotation+based+Type+Descriptor -->

<project name="Extract Class Annotations" basedir=".">
  
    <taskdef resource="PCT.properties" classpath="/Progress/PCT/ant/lib/PCT.jar" />

    <macrodef name="extractClassAnnotations">
        <attribute name="directory" default="."/>
        <attribute name="fileMask" default="*BusinessEntity.cls"/>
        <attribute name="excludeAnnotations" default="@Test,@TestIgnore,@BusinessEntityGenerator"/>
        <attribute name="overwriteWriteProtected" default="false"/>
        <attribute name="verbose" default="false"/>

        <sequential>
        
        <PCTRun procedure="Consultingwerk/Studio/ExtractClassAnnotations/extract-class-annotations.p" 
            graphicalMode="true" dlcHome="${progress.DLC}" cpinternal="iso8859-1" cpstream="iso8859-1"
            compileUnderscore="true" inputchars="2000000" assemblies="Assemblies"
            iniFile="ini/progress.ini" token="4000" verbose="true" tempDir="c:\temp">

		    <propath>
		      <pathelement path="." />
		    </propath>
            
            <Parameter name="directory" value="@{directory}"/>
            <Parameter name="fileMask" value="@{fileMask}"/>
            <Parameter name="excludeAnnotations" value="@{excludeAnnotations}"/>
            <Parameter name="overwriteWriteProtected" value="@{overwriteWriteProtected}"/>
            <Parameter name="verbose" value="@{verbose}"/>
        </PCTRun>
        
        </sequential>
    </macrodef>
 
</project>
